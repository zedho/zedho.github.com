(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"D+Wb":function(t,i,e){"use strict";e.r(i),e.d(i,"ShopModule",(function(){return E}));var n=e("PCNd"),o=e("ofXK"),c=e("tyNb"),s=e("mrSG"),l=e("IzEk"),a=e("lJxs"),r=e("fXoL"),b=e("h5Rr"),u=e("gren"),d=e("I/3d"),h=e("jhN1"),g=e("hqRG"),f=e("NFeN"),p=e("Vaw3");function m(t,i){if(1&t&&(r.Tb(0,"span",6),r.Ob(1,"div",7),r.Tb(2,"div",8),r.Ob(3,"img",9),r.Ob(4,"hr"),r.Sb(),r.Ob(5,"div",7),r.Sb()),2&t){const t=i.$implicit,e=r.cc();r.Ab(3),r.fc("src",e.sanitize(t),r.jc)}}let v=(()=>{class t{constructor(t,i,e){this.storage=t,this.spin=i,this.sanitizer=e,this.folder="",this.photoList=[],this.pagePicList=[],this.i=0}set setFolder(t){this.folder=t,this.listAllFiles()}ngOnInit(){}ngOnDestroy(){this.sub.unsubscribe(),console.log("PIC unsub")}listAllFiles(){return Object(s.a)(this,void 0,void 0,(function*(){this.photoList=[];const t=this.storage.ref(this.folder+"/photos");this.sub=t.listAll().pipe(Object(l.a)(1)).subscribe(t=>Object(s.a)(this,void 0,void 0,(function*(){let i=t.items;for(let t=0;t<i.length;t++){let e=yield i[t].getDownloadURL();this.photoList.push(e)}console.log("photoList",this.photoList),this.pagePicList=[];let e=[];this.photoList.forEach((t,i)=>{i%3==0?(0!=i&&this.pagePicList.push(e),e=[],e.push(t)):(e.push(t),i+1==this.photoList.length&&this.pagePicList.push(e))}),console.log(this.pagePicList),this.spin.stop()})))}))}sanitize(t){return this.sanitizer.bypassSecurityTrustUrl(t)}nextBtn(){this.i=this.i+1,window.scrollTo(0,0)}backBtn(){this.i=this.i-1,window.scrollTo(0,0)}}return t.\u0275fac=function(i){return new(i||t)(r.Nb(p.a),r.Nb(u.b),r.Nb(h.b))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-photo-list"]],inputs:{setFolder:["folderName","setFolder"]},decls:10,vars:3,consts:[[1,"holderRow"],["ee",""],["class","row",4,"ngFor","ngForOf"],[1,"ui-group-buttons",2,"width","80%","margin","0 10% 10px 10%"],["type","button","type","button",1,"btn","btn-info","btn-lg",2,"width","48%",3,"disabled","click"],[1,"or","or-lg"],[1,"row"],[1,"col-md-3"],[1,"col-md-6",2,"text-align","center"],["alt","loading",1,"imgBigScreen",3,"src"]],template:function(t,i){1&t&&(r.Tb(0,"div",0,1),r.Ob(2,"hr"),r.oc(3,m,6,1,"span",2),r.Tb(4,"div",3),r.Tb(5,"button",4),r.ac("click",(function(){return i.backBtn()})),r.qc(6,"Back"),r.Sb(),r.Ob(7,"div",5),r.Tb(8,"button",4),r.ac("click",(function(){return i.nextBtn()})),r.qc(9,"Next"),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(3),r.fc("ngForOf",i.pagePicList[i.i]),r.Ab(2),r.fc("disabled",0==i.i),r.Ab(3),r.fc("disabled",i.pagePicList.length-1==i.i))},directives:[o.i],styles:['.marzero[_ngcontent-%COMP%]{margin:15px 0 0}.marzero[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.holderRow[_ngcontent-%COMP%]{padding:0 20px}@media (min-width:500px){.imgBigScreen[_ngcontent-%COMP%]{min-height:50vh;max-height:85vh;max-width:95vw}}@media (max-width:500px){.imgBigScreen[_ngcontent-%COMP%]{width:100%}}.ui-group-buttons[_ngcontent-%COMP%]   .or[_ngcontent-%COMP%]{position:relative;float:left;width:.3em;height:1.3em;z-index:3;font-size:12px}.ui-group-buttons[_ngcontent-%COMP%]   .or[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:50%;content:"or";background-color:#5a5a5a;margin-top:-.1em;margin-left:-.9em;width:1.8em;height:1.8em;line-height:1.55;color:#fff;font-style:normal;font-weight:400;text-align:center;border-radius:500px;box-shadow:0 0 0 1px rgba(0,0,0,.1);-ms-box-sizing:border-box;box-sizing:border-box}.ui-group-buttons[_ngcontent-%COMP%]   .or[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;content:" ";width:.3em;height:2.84em;background-color:transparent;border-top:.6em solid #5a5a5a;border-bottom:.6em solid #5a5a5a}.ui-group-buttons[_ngcontent-%COMP%]   .or.or-lg[_ngcontent-%COMP%]{height:1.3em;font-size:16px}.ui-group-buttons[_ngcontent-%COMP%]   .or.or-lg[_ngcontent-%COMP%]:after{height:3em}.ui-group-buttons[_ngcontent-%COMP%]   .or.or-sm[_ngcontent-%COMP%]{height:1em}.ui-group-buttons[_ngcontent-%COMP%]   .or.or-sm[_ngcontent-%COMP%]:after{height:2.5em}.ui-group-buttons[_ngcontent-%COMP%]   .or.or-xs[_ngcontent-%COMP%]{height:.25em}.ui-group-buttons[_ngcontent-%COMP%]   .or.or-xs[_ngcontent-%COMP%]:after{height:1.84em;z-index:-1000}.ui-group-buttons[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.ui-group-buttons[_ngcontent-%COMP%]:after{content:".";display:block;height:0;clear:both;visibility:hidden}.ui-group-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{float:left;border-radius:0}.ui-group-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:first-child{margin-left:0;border-top-left-radius:.25em;border-bottom-left-radius:.25em;padding-right:15px}.ui-group-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25em;border-bottom-right-radius:.25em;padding-left:15px}']}),t})(),O=(()=>{class t{constructor(){}onRightClick(t){console.log("EVENT"),t.preventDefault()}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","appNoRightClick",""]],hostBindings:function(t,i){1&t&&r.ac("contextmenu",(function(t){return i.onRightClick(t)}))}}),t})();var w=e("3Pt+"),A=e("kmnG"),C=e("qFsG");function P(t,i){1&t&&(r.Tb(0,"a",3),r.qc(1,"Platform"),r.Sb()),2&t&&r.fc("routerLink","/platformadmin")}function k(t,i){if(1&t){const t=r.Ub();r.Tb(0,"a",4),r.ac("click",(function(){return r.ic(t),r.cc().back()})),r.Tb(1,"mat-icon"),r.qc(2,"backspace"),r.Sb(),r.Sb()}}function M(t,i){if(1&t){const t=r.Ub();r.Tb(0,"span"),r.Tb(1,"button",17),r.ac("click",(function(){r.ic(t);const i=r.cc().$implicit;return r.cc(3).viewerOpen(i)})),r.qc(2,"viewers"),r.Sb(),r.Tb(3,"a",18),r.qc(4,"whatsapp"),r.Sb(),r.Sb()}if(2&t){const t=r.cc().$implicit,i=r.cc(3);r.Ab(3),r.fc("href",i.sanitize("whatsapp://send?text=Hi, Hope you would be amazed this "+t.inviteid+" "+t.invitepass),r.jc)}}function S(t,i){if(1&t){const t=r.Ub();r.Tb(0,"div",14),r.Tb(1,"span",15),r.ac("click",(function(){r.ic(t);const e=i.$implicit;return r.cc(3).albumClicked(e.foldername,e)})),r.qc(2),r.Tb(3,"a",16),r.qc(4,"open"),r.Sb(),r.Sb(),r.qc(5,"\xa0 "),r.oc(6,M,5,1,"span",2),r.Ob(7,"hr"),r.Sb()}if(2&t){const t=i.$implicit,e=r.cc(3);r.Ab(2),r.sc("",t.name," "),r.Ab(4),r.fc("ngIf",t.ownernum==e.u.phoneNumber)}}function T(t,i){if(1&t&&(r.Tb(0,"div",11),r.Ob(1,"div",12),r.oc(2,S,8,2,"div",13),r.Ob(3,"div",12),r.Sb()),2&t){const t=r.cc(2);r.Ab(2),r.fc("ngForOf",t.albumsData)}}function x(t,i){1&t&&(r.Tb(0,"p"),r.qc(1,"No Focused albums available..."),r.Sb())}function N(t,i){if(1&t){const t=r.Ub();r.Tb(0,"div"),r.Tb(1,"div",5),r.Tb(2,"h1",6),r.qc(3,"Your focused albums"),r.Sb(),r.Tb(4,"span",7),r.Tb(5,"a",8),r.ac("click",(function(){return r.ic(t),r.cc().refreshAll()})),r.Tb(6,"mat-icon"),r.qc(7,"autorenew"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.oc(8,T,4,1,"div",9),r.oc(9,x,2,0,"ng-template",null,10,r.pc),r.Sb()}if(2&t){const t=r.hc(10),i=r.cc();r.Ab(8),r.fc("ngIf",i.albumsData&&i.albumsData.length>0)("ngIfElse",t)}}function _(t,i){if(1&t&&(r.Tb(0,"div",23),r.Ob(1,"app-photo-list",24),r.Sb()),2&t){const t=r.cc(2);r.Ab(1),r.fc("folderName",t.folder)}}function y(t,i){1&t&&r.qc(0,"No Folder Content....")}function I(t,i){if(1&t&&(r.Tb(0,"div",25),r.Ob(1,"img",26),r.Ob(2,"img",26),r.Sb()),2&t){const t=r.cc(2);r.Ab(1),r.fc("src",t.studioData.simg1,r.jc),r.Ab(1),r.fc("src",t.studioData.simg2,r.jc)}}function F(t,i){if(1&t&&(r.Tb(0,"div"),r.Tb(1,"h1",19),r.qc(2),r.Sb(),r.oc(3,_,2,1,"div",20),r.oc(4,y,1,0,"ng-template",null,21,r.pc),r.oc(6,I,3,2,"div",22),r.Sb()),2&t){const t=r.hc(5),i=r.cc();r.Ab(2),r.sc("",i.clickedAlbumName," Album"),r.Ab(1),r.fc("ngIf",""!=i.folder)("ngIfElse",t),r.Ab(3),r.fc("ngIf",i.studioData&&i.studioData.simg1&&i.studioData.simg2)}}function q(t,i){if(1&t){const t=r.Ub();r.Tb(0,"h4"),r.qc(1),r.Tb(2,"button",36),r.ac("click",(function(){r.ic(t);const i=r.cc().$implicit;return r.cc(3).removeViewer(i)})),r.qc(3,"Remove"),r.Sb(),r.Sb()}if(2&t){const t=r.cc().$implicit;r.Ab(1),r.sc("",t," ")}}function L(t,i){if(1&t&&(r.Tb(0,"div"),r.oc(1,q,4,1,"h4",2),r.Ob(2,"hr"),r.Sb()),2&t){const t=i.$implicit,e=r.cc(3);r.Ab(1),r.fc("ngIf",t!=e.selectedAlbum.ownernum)}}function D(t,i){if(1&t&&(r.Tb(0,"div",34),r.oc(1,L,3,1,"div",35),r.Sb()),2&t){const t=r.cc(2);r.Ab(1),r.fc("ngForOf",t.selectedAlbum.viewers)}}function j(t,i){1&t&&r.qc(0,"No viewers added yet...")}function z(t,i){if(1&t){const t=r.Ub();r.Tb(0,"div"),r.Tb(1,"h1"),r.qc(2),r.Sb(),r.Tb(3,"h5"),r.qc(4),r.Sb(),r.Ob(5,"hr"),r.Tb(6,"h5"),r.qc(7),r.Sb(),r.Tb(8,"h5"),r.qc(9),r.Sb(),r.Ob(10,"hr"),r.oc(11,D,2,1,"div",27),r.oc(12,j,1,0,"ng-template",null,28,r.pc),r.Tb(14,"form",29),r.Tb(15,"mat-form-field",29),r.Tb(16,"mat-label"),r.qc(17,"Add Viewer's Phone Number"),r.Sb(),r.Tb(18,"span",30),r.qc(19,"+91 \xa0"),r.Sb(),r.Tb(20,"input",31),r.ac("ngModelChange",(function(i){return r.ic(t),r.cc().adNum=i})),r.Sb(),r.Tb(21,"mat-icon",32),r.qc(22,"mode_edit"),r.Sb(),r.Sb(),r.Sb(),r.Tb(23,"button",33),r.ac("click",(function(){return r.ic(t),r.cc().addViewerModal()})),r.qc(24,"Add"),r.Sb(),r.Sb()}if(2&t){const t=r.hc(13),i=r.cc();r.Ab(2),r.sc("",i.clickedAlbumName," Album Viewers List"),r.Ab(2),r.sc("Owner - ",i.selectedAlbum.ownernum,""),r.Ab(3),r.sc("Invite ID - ",i.selectedAlbum.inviteid,""),r.Ab(2),r.sc("Invite Pass - ",i.selectedAlbum.invitepass,""),r.Ab(2),r.fc("ngIf",i.selectedAlbum&&i.selectedAlbum.viewers&&i.selectedAlbum.viewers.length>0)("ngIfElse",t),r.Ab(9),r.fc("ngModel",i.adNum)}}const B=[{path:"",pathMatch:"full",component:(()=>{class t{constructor(t,i,e,n){this.ss=t,this.spin=i,this.afs=e,this.sanitizer=n,this.albumsData=[],this.folder="",this.u={},this.focusFlag=1,this.clickedAlbumName="",this.studioData={},this.f(),this.userNum=t.userPhone}ngOnInit(){this.studioData=this.ss.shopDetails}ngAfterViewInit(){}ngOnDestroy(){this.sub.unsubscribe(),console.log("Prod unsub")}refreshAll(){return Object(s.a)(this,void 0,void 0,(function*(){this.spin.start(),yield this.f()}))}f(){return Object(s.a)(this,void 0,void 0,(function*(){this.u=yield this.ss.getUser(),console.log([this.ss.shopId,this.u]),this.albumCol=yield this.afs.collection("albums",t=>t.where("viewers","array-contains",this.u.phoneNumber)),this.sub=this.albumCol.snapshotChanges().pipe(Object(l.a)(1)).pipe(Object(a.a)(t=>t.map(t=>Object.assign({key:t.payload.doc.id},t.payload.doc.data())))).subscribe(t=>{this.albumsData=t,console.log("albumsData",this.albumsData),this.spin.stop()})}))}albumClicked(t,i){this.spin.start(),this.folder=t,this.clickedAlbumName=i.name,this.focusFlag=2,this.selectedAlbum=i,console.log("albumClicked",t,this.focusFlag,this.folder)}back(){2==this.focusFlag&&(this.focusFlag=this.focusFlag-1),3==this.focusFlag&&(this.focusFlag=this.focusFlag-2)}viewerOpen(t){this.spin.start(),this.focusFlag=3,this.selectedAlbum=t,this.clickedAlbumName=t.name,this.spin.stop()}removeViewer(t){return Object(s.a)(this,void 0,void 0,(function*(){this.selectedAlbum.viewers.splice(this.selectedAlbum.viewers.indexOf(t),1),console.log(this.selectedAlbum),null!=(yield this.albumCol.doc(this.selectedAlbum.key).update({viewers:this.selectedAlbum.viewers}))&&alert("Remove failed..")}))}addViewerModal(){return Object(s.a)(this,void 0,void 0,(function*(){if(console.log("open clicked",this.adNum),this.adNum&&10!=this.adNum.length)alert("Please Check the Phone Number");else{this.adNum="+91"+this.adNum;let t=this.selectedAlbum.viewers;if(t.includes(this.adNum))alert("Number already exist..");else{t.push(this.adNum);let i=yield this.albumCol.doc(this.selectedAlbum.key).update({viewers:t});console.log(i)}this.adNum=""}}))}sanitize(t){return this.sanitizer.bypassSecurityTrustUrl(t)}}return t.\u0275fac=function(i){return new(i||t)(r.Nb(b.a),r.Nb(u.b),r.Nb(d.a),r.Nb(h.b))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-products"]],decls:7,vars:5,consts:[["class","btn btn-success",3,"routerLink",4,"ngIf"],["class","backbtn",3,"click",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-success",3,"routerLink"],[1,"backbtn",3,"click"],[1,"headCont"],[1,"focusTitle"],[1,"refreshBtn"],[1,"refreshBtnTxt",3,"click"],["class","row","style","margin: 0px;",4,"ngIf","ngIfElse"],["noAlbum",""],[1,"row",2,"margin","0px"],[1,"col-sm-1","col-md-2"],["class","col-sm-10 col-md-8",4,"ngFor","ngForOf"],[1,"col-sm-10","col-md-8"],[3,"click"],[1,"btn","btn-success"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary",3,"href"],[1,"spacetitle"],["class","picList",4,"ngIf","ngIfElse"],["noFolderContent",""],["class","bottomAdDiv",4,"ngIf"],[1,"picList"],["appNoRightClick","",3,"folderName"],[1,"bottomAdDiv"],[1,"bottomAd",3,"src"],["class","viewList",4,"ngIf","ngIfElse"],["noViewerContent",""],[1,"fullwidth"],["matPrefix",""],["type","tel","matInput","","placeholder","9499030204","name","phoneNum",3,"ngModel","ngModelChange"],["matSuffix",""],[1,"btn","btn-success","fullwidth",3,"click"],[1,"viewList"],[4,"ngFor","ngForOf"],[1,"btn",3,"click"]],template:function(t,i){1&t&&(r.Ob(0,"app-nav-side-bar"),r.oc(1,P,2,1,"a",0),r.oc(2,k,3,0,"a",1),r.Ob(3,"br"),r.oc(4,N,11,2,"div",2),r.oc(5,F,7,4,"div",2),r.oc(6,z,25,7,"div",2)),2&t&&(r.Ab(1),r.fc("ngIf","+919499030204"==i.userNum),r.Ab(1),r.fc("ngIf",i.focusFlag>1),r.Ab(2),r.fc("ngIf",1==i.focusFlag),r.Ab(1),r.fc("ngIf",2==i.focusFlag),r.Ab(1),r.fc("ngIf",3==i.focusFlag))},directives:[g.a,o.j,c.k,f.a,o.i,v,O,w.j,w.f,w.g,A.b,A.e,A.f,C.a,w.a,w.e,w.h,A.g],styles:[".fullwidth[_ngcontent-%COMP%]{width:90%;margin:5px 5%}.refreshBtn[_ngcontent-%COMP%]{position:absolute;right:4px;margin-right:6px}.focusTitle[_ngcontent-%COMP%]{margin-left:10px}.headCont[_ngcontent-%COMP%]{position:relative}.headCont[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline-block}.bottomAdDiv[_ngcontent-%COMP%]{margin-top:10px}.bottomAd[_ngcontent-%COMP%]{margin:10px 25%;width:50%}.backbtn[_ngcontent-%COMP%]{position:absolute;padding-top:15px;right:10px}.backbtn[_ngcontent-%COMP%]     .mat-icon{height:32px!important;width:32px!important;font-size:32px!important}.spacetitle[_ngcontent-%COMP%]{margin-left:10px}"]}),t})()}];let R=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(i){return new(i||t)},imports:[[c.l.forChild(B)],c.l]}),t})(),E=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(i){return new(i||t)},imports:[[o.b,R,n.a]]}),t})()}}]);